<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Read forest inventory data — read_inv • TreeCompR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read forest inventory data — read_inv"><meta name="description" content="Read inventory table sourced from a file path or an object that
inherits from class data.frame."><meta property="og:description" content="Read inventory table sourced from a file path or an object that
inherits from class data.frame."><meta property="og:image" content="https://juliarieder.github.io/TreeCompR/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">TreeCompR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/TreeCompR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ALS_inventory.html">ALS competition workflow</a></li>
    <li><a class="dropdown-item" href="../articles/competition-inventory.html">Quantifying competition from inventory data</a></li>
    <li><a class="dropdown-item" href="../articles/competition-pointcloud.html">Quantifying competition from point cloud data</a></li>
    <li><a class="dropdown-item" href="../articles/TLS_inventory.html">TLS competition workflow</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/juliarieder/TreeCompR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Read forest inventory data</h1>
      <small class="dont-index">Source: <a href="https://github.com/juliarieder/TreeCompR/blob/v0.0.0.9000-beta/R/read_inventory.R" class="external-link"><code>R/read_inventory.R</code></a></small>
      <div class="d-none name"><code>read_inv.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Read inventory table sourced from a file path or an object that
inherits from class data.frame.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_inv</span><span class="op">(</span></span>
<span>  <span class="va">inv_source</span>,</span>
<span>  x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dbh <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  height <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  size <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dbh_unit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cm"</span>, <span class="st">"m"</span>, <span class="st">"mm"</span><span class="op">)</span>,</span>
<span>  height_unit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"m"</span>, <span class="st">"cm"</span>, <span class="st">"mm"</span><span class="op">)</span>,</span>
<span>  keep_rest <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-inv-source">inv_source<a class="anchor" aria-label="anchor" href="#arg-inv-source"></a></dt>
<dd><p>object that inherits from class data.frame, or character
path to a file in any file format readable with <code><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">data.table::fread()</a></code>.
If provided with forest inventory data in a data.frame, the structure and
column names are validated and homogenized; else, the function tries to
read the dataset in the specified path.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>character of length 1 or name of the variable in <code>inv_source</code>
containing the x coordinates of the tree in m. If <code>NULL</code> (default),
the function tries to identify the x coordinate from the data.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>character of length 1 or name of the variable in <code>inv_source</code>
containing the y coordinates of the tree in meters. If <code>NULL</code> (default),
the function tries to identify the y coordinate from the data.</p></dd>


<dt id="arg-dbh">dbh<a class="anchor" aria-label="anchor" href="#arg-dbh"></a></dt>
<dd><p>character of length 1 or name of the variable in <code>inv_source</code>
containing the diameter at breast height of the tree (by default in cm, but
can be defined via <code>dbh_unit</code>). If <code>NULL</code> (default), the function tries to
identify the dbh from the data.</p></dd>


<dt id="arg-height">height<a class="anchor" aria-label="anchor" href="#arg-height"></a></dt>
<dd><p>character of length 1 or name of the variable in <code>inv_source</code>
containing the height of the tree (by default in m, but   can be defined
via <code>heigh_unit</code>). If <code>NULL</code> (default), the function tries to identify the
height from the data.</p></dd>


<dt id="arg-size">size<a class="anchor" aria-label="anchor" href="#arg-size"></a></dt>
<dd><p>character of length 1 or name of the variable in <code>inv_source</code>
containing a generic size-related variable for <code><a href="competition_indices.html">CI_size()</a></code>. If <code>NULL</code>
(default), the variable is not assigned.</p></dd>


<dt id="arg-id">id<a class="anchor" aria-label="anchor" href="#arg-id"></a></dt>
<dd><p>character of length 1 or name of the variable in <code>inv_source</code>
containing a unique tree ID. If <code>NULL</code> (default), the function tries to
identify the ID from the data. If this is not possible, the trees are
assigned a unique number. All IDs are coerced to character.</p></dd>


<dt id="arg-dbh-unit">dbh_unit<a class="anchor" aria-label="anchor" href="#arg-dbh-unit"></a></dt>
<dd><p>character of length 1. Unit for the diameter measurements
(one of "cm", "m" or "mm". defaults to "cm").</p></dd>


<dt id="arg-height-unit">height_unit<a class="anchor" aria-label="anchor" href="#arg-height-unit"></a></dt>
<dd><p>character of length 1. Unit for the diameter measurements
(one of "m", "cm" or "mm". defaults to "m").</p></dd>


<dt id="arg-keep-rest">keep_rest<a class="anchor" aria-label="anchor" href="#arg-keep-rest"></a></dt>
<dd><p>logical of length 1. Keep additional variables in the
inventory table besides x, y, dbh, size and id for filtering or further
computations? Defaults to FALSE.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>logical of length 1. Should information about progress be
printed? Defaults to TRUE.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>additional arguments passed on to <code><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">data.table::fread()</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>object of class <code>forest_inv</code>: a modified data.table with x and
y coordinates of the tree, a unique tree identifier (<code>id</code>) and tree diameter
at breast height (<code>dbh</code>, in cm) and tree height (<code>height</code>, in m) if
available.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Function for reading and validating forest inventory data.
Supports any formats readable with <code><a href="https://rdatatable.gitlab.io/data.table/reference/fread.html" class="external-link">data.table::fread()</a></code>.</p>
<p>If provided with tabular data without explicitly specified variable names,
the function by default takes the columns named "X" and "Y" (or "x" and
"y") to be the tree coordinates, and looks for columns named "height",
"height_m" or "h" as well as "dbh", "diameter","diam", or "d" (in any
capitalization) as size-related variables. The tree ids are taken from
columns named "id", "tree_id", "treeID" or "tree.id" (in any
capitalization). All special characters besides "." and "_" are stripped
from the column names before matching. For "size", the variable has to be
specified explicitly; if not specified no generic size-related variable
will be selected.
All other columns in the source dataset are appended to the inventory when
<code>keep_rest = TRUE</code>, but they are not validated, type-checked or sanitized.</p>
<p>If no columns with coordinates can be identified, the function fails with
an error. If no ID column is available, the function assigns a unique
number to each tree (but note that this will make specifying custom target
trees difficult). It is possible to read in datasets without dbh and
height, but usually only sensible if these are used as accessory datasets
for identifying target trees (e.g. if target trees where identified by
taking their GPS coordinates manually in the field).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="define_target.html">define_target()</a></code> for designating target trees,
<code><a href="compete_inv.html">compete_inv()</a></code> for computing tree competition from inventory data,
<a href="competition_indices.html">competition_indices</a> for a list of available indices,
<code><a href="plot_target.html">plot_target()</a></code> to plot target tree positions in <code>target_inv</code> and
<code>compete_inv</code> objects. Find more examples in our <a href="https://juliarieder.github.io/TreeCompR/articles/competition-inventory.html#reading-in-forest-inventory-data-with-read_inv">tutorial</a>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>

    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Julia S. Rieder, Roman M. Link.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

